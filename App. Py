from fastapi import FastAPI
from ai_engine import generate_post, generate_hashtags
from analytics import analyze_engagement

app = FastAPI()

@app.get("/")
def home():
    return {"message": "Social Media Manager Agent Running"}

@app.post("/generate_post")
def create_post(topic: str):
    post = generate_post(topic)
    hashtags = generate_hashtags(topic)

    return {
        "post": post,
        "hashtags": hashtags
    }

@app.get("/analytics")
def analytics():
    data = analyze_engagement()
    return data
